<div class=" container ml-3">
    <div class="mb-3 row">
        <h5>Seleccione la fecha para su cita: </h5>
        <div class="col-sm-4">
            <input type="date" name="fecha" class="form-control" [(ngModel)]="fecha">
        </div>
    </div>
    <div class="mb-3 ml-3">
        <button type="submit" (click)="filtrarBarberoCita()" class="btn btn-info" [disabled]="!fecha"> Filtrar por Barbero</button>
    </div>
</div>
<app-alerta [alerta]="alerta"></app-alerta>

<div class="container-xl mt-4">
    <div class="table-responsive">
        <div class="table-wrapper">
            <table class="table table-striped table-hover table-bordered">
                <thead class="table-dark">
                    <tr class="text-center">
                        <th></th>
                        <th>Nombre del Barbero</th>
                        <th>Hora </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of items" class="text-center">
                        <td><input class="form-check-input" type="checkbox" (change)="seleccionar(item)"
                                (change)="onCheckboxChange($event,item)" /></td>
                        <td>{{ item.nombreBarbero }}</td>
                        <td>{{ item.hora }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<div class="alert alert-danger" role="alert" *ngIf="selectedCheckboxCount > 1">
    Solo se puede seleccionar un barbero a la vez
</div>


<div class="container-xl mt-4">
    <div class="table-responsive">
        <div class="table-wrapper">
            <table class="table table-striped table-hover table-bordered">
                <thead class="table-dark">
                    <tr class="text-center">
                        <th></th>
                        <th>Nombre del Servicio: </th>
                        <th>Descripcion: </th>
                        <th>Costo: </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let servicio of servicios" class="text-center">
                        <td><input class="form-check-input" type="checkbox"
                                (change)="actualizarServiciosSeleccionados()" [(ngModel)]="servicio.seleccionado"></td>
                        <td>{{ servicio.nombre }}</td>
                        <td>{{ servicio.descripcion }}</td>
                        <td>{{ servicio.costo }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>



<div class="d-flex justify-content-center">
    <button type="submit" (click)="solicitarCita()" class="btn btn-success mb-3" [disabled]="(serviciosSeleccionados.length === 0) || (selectedCheckbox === null)">
        Solicitar Cita
      </button></div>
<app-alerta [alerta]="alerta2"></app-alerta>